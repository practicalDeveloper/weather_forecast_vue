(function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/weather_forecast_vue/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1638:function(t,e,n){"use strict";n("7e9d")},"2ae3":function(t,e,n){"use strict";n("2f1e")},"2f1e":function(t,e,n){},"3b4a":function(t,e,n){"use strict";n("a66f")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"grid-container"},o={class:"header"},i={class:"Title"},c={class:"textSearchArea"},s={class:"content"},u={class:"mapArea",id:"gMapArea"},l={ref:"map-root",style:{width:"100%",height:"100%"}},d={class:"sidebar"},f={id:"forecastCountry"},p={id:"countryCity"};function h(t,e,n,h,m,b){var v=Object(r["v"])("countries-text-box"),g=Object(r["v"])("forecast-type-tabs"),y=Object(r["v"])("router-view"),O=Object(r["v"])("countries-codes");return Object(r["q"])(),Object(r["e"])(r["a"],null,[Object(r["f"])("div",a,[Object(r["f"])("div",o,[Object(r["f"])("div",i,[Object(r["f"])("p",null,Object(r["x"])(t.weatherForecast),1)]),Object(r["f"])("div",c,[Object(r["h"])(v,{countriesCodesFilter:m.countriesCodes,countriesCitiesFilter:m.countriesCities,onGetLocation:b.getLocation,onSearchClick:b.searchLocationClick,onClearClick:b.clearClick},null,8,["countriesCodesFilter","countriesCitiesFilter","onGetLocation","onSearchClick","onClearClick"])])]),Object(r["f"])("div",s,[Object(r["f"])("div",u,[Object(r["f"])("div",l,null,512)])]),Object(r["f"])("div",d,[Object(r["h"])(g,{onGetForecastType:b.getForecastType},null,8,["onGetForecastType"]),Object(r["B"])(Object(r["f"])("div",f,[Object(r["f"])("p",p,Object(r["x"])(b.currentLocation()),1)],512),[[r["z"],""!=this.locationCity]]),Object(r["B"])(Object(r["f"])("div",null,[Object(r["h"])(y)],512),[[r["z"],""!=this.locationCity&&this.locationCity!=this.notFoundForecast]])])]),Object(r["h"])(O,{onGetCodes:b.getCountriesCodes},null,8,["onGetCodes"])],64)}var m=n("1da1"),b=(n("e9c4"),n("4de4"),n("d3b7"),n("ac1f"),n("1276"),n("fb6a"),n("caad"),n("2532"),n("159b"),n("498a"),n("96cf"),n("369b")),v=n.n(b),g=(n("b680"),{created:function(){},data:function(){return{}},methods:{elementById:function(t){return this.$el.querySelector(t)},convertToCelsius:function(t){return Math.round((t-273).toFixed(2))},addDays:function(t,e){t=new Date(t);return t.setDate(t.getDate()+e),t},dateWithoutTime:function(t){t=new Date(t);return t.setHours(0,0,0,0)},getRootVarCSS:function(t){var e=document.querySelector(":root"),n=getComputedStyle(e);return n.getPropertyValue(t)},setRootVarCSS:function(t,e){document.documentElement.style.setProperty(t,e)}}}),y={data:function(){return{forecastTypes:{now:"Сейчас",today:"Сегодня",fiveDays:"5 дней"},weatherForecast:"Прогноз погоды",notFoundForecast:"Прогноз не найден",forecastNow:"Прогноз погоды сейчас в ",wind:"Ветер",ms:"м/с",pressure:"Давление",pressureValue:"мм рт. ст.",humidity:"Влажность",cloudiness:"Облачность",forecastFiveDays:"Прогноз погоды на 5 дней в ",temperature:"Температура:",forecastToday:"Прогноз погоды сегодня в ",windSpeed:"Скорость ветра:",searchPlace:"Поиск места",location:"Местоположение"}}};function O(t,e,n,r,a,o){return null}var j={data:function(){return{allCountriesCities:[],allCountriesCodes:[]}},beforeMount:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initialInit();case 2:t.$emit("getCodes",t.allCountriesCodes,t.allCountriesCities);case 3:case"end":return e.stop()}}),e)})))()},methods:{initialInit:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.parseCSV("https://practicaldeveloper.github.io/weather_forecast_vue/files/allCitiesWithRus.csv");case 2:return t.allCountriesCities=e.sent,e.next=5,t.parseCSV("https://practicaldeveloper.github.io/weather_forecast_vue/files/allCountriesWithRus.csv");case 5:t.allCountriesCodes=e.sent;case 6:case"end":return e.stop()}}),e)})))()},parseCSV:function(t){return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){v.a.parse(t,{header:!1,download:!0,complete:function(t){e(t.data)}})})));case 1:case"end":return e.stop()}}),e)})))()}}},C=n("6b0d"),w=n.n(C);const x=w()(j,[["render",O]]);var F=x,D={id:"searchArea"},I={autocomplete:"off",id:"inputForm"},k={class:"autocomplete"},T=["placeholder"],N={type:"button"},S={class:"flex-container"},L=Object(r["f"])("div",{style:{width:"5px"}},null,-1);function R(t,e,n,a,o,i){return Object(r["q"])(),Object(r["e"])("div",D,[Object(r["f"])("form",I,[Object(r["f"])("div",k,[Object(r["f"])("input",{id:"cityinput",type:"text",class:"searchTerm",placeholder:t.searchPlace,autocomplete:"off",onInput:e[0]||(e[0]=function(){return i.updateInput&&i.updateInput.apply(i,arguments)}),onKeydown:e[1]||(e[1]=function(){return i.keyDownInput&&i.keyDownInput.apply(i,arguments)}),"data-country":"","data-countryCode":""},null,40,T),Object(r["f"])("button",N,[Object(r["f"])("div",S,[Object(r["f"])("i",{class:"fa fa-times",onClick:e[2]||(e[2]=function(){return i.clearClick&&i.clearClick.apply(i,arguments)})}),L,Object(r["f"])("i",{class:"fa fa-search",onClick:e[3]||(e[3]=function(){return i.searchClick&&i.searchClick.apply(i,arguments)})})])])])])])}var E=n("ade3"),M=(n("00b4"),n("2ca0"),n("7db0"),n("99af"),n("148f")),A=n.n(M),P={mixins:[g,y],data:function(){return{currentFocus:0,cityItemsCount:0,firstDivPosition:0,maxDivHeight:600,totalDivPosition:0,selectedDivValue:""}},props:{countriesCodesFilter:{type:Array,required:!0},countriesCitiesFilter:{type:Array,required:!0}},mounted:function(){document.addEventListener("click",this.documentOnClick)},beforeDestroy:function(){document.removeEventListener("click",this.documentOnClick)},beforeMount:function(){return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:Object(E["a"])({documentOnClick:function(t){this.closeAllLists(t.target)},getCityInput:function(){return this.elementById("#cityinput")},getInputForm:function(){return this.elementById("#inputForm")},searchClick:function(){this.$emit("searchClick")},clearClick:function(){this.getCityInput().value="",this.getCityInput().focus(),this.$emit("clearClick")},updateInput:function(t){var e=/^[а-яё-\s/(/ /)/]+$/i,n=[{countryName:"",cityName:"",countryCode:""}];n=[];var r=t.target.value;if(r.length>2){var a=e.test(r),o=this.GetCountryNameByCode.bind(this);this.countriesCitiesFilter.filter((function(t){if(t.length>1){var e=t[0],i=t[1],c=t[2],s=t[3],u=a?c.toLowerCase():i.toLowerCase();if(""!=u&&u.startsWith(r.toLowerCase())){var l=t[0],d=a?o(e)[2]:o(e)[1],f=a?c:i,p={countryName:d,cityName:f,cityNameEng:i,countryCode:l,cityCoord:s},h=n.find((function(t){return t.countryName==d&&t.cityName==f}));return void 0==h&&n.push(p),!0}}})),A()(n,"countryName","cityName"),this.showPopupList(n)}""==this.getCityInput().value&&this.$emit("getLocation",this.getCityInput().value,this.getCityInput().dataset.cityeng,this.getCityInput().dataset.country,this.getCityInput().dataset.countrycode,this.getCityInput().dataset.coord)},showPopupList:function(t){var e,n,r,a=this,o=this.getCityInput().value;if(this.closeAllLists(),!o)return!1;this.currentFocus=-1,n=document.createElement("DIV"),n.setAttribute("id","itemsContainer"),n.innerHTML="<span>"+this.location+"</span>",n.setAttribute("class","autocomplete-itemsContainer"),this.getCityInput().parentNode.appendChild(n),e=document.createElement("DIV"),e.setAttribute("id",this.getCityInput().id+"autocomplete-list"),e.setAttribute("class","autocomplete-items"),this.cityItemsCount=t.length,e.setAttribute("style","height: auto"),n.appendChild(e);for(var i=function(n){r=document.createElement("DIV"),r.innerHTML="<span class='itemCity'> ".concat(t[n].cityName,"</span>"),r.innerHTML+="<span class='itemCountry'>   ".concat(t[n].countryName,"</span>"),r.innerHTML+="\n                <input class='itemInput' \n                data-country= \"".concat(t[n].countryName,'"\n                data-countrycode = "').concat(t[n].countryCode,'" \n                data-cityeng = "').concat(t[n].cityNameEng,'"\n                data-coord = "').concat(t[n].cityCoord,"\"\n                type='hidden' value= \"").concat(t[n].cityName,'">\n                '),a.selectedDivValue=r.getElementsByTagName("input")[0].value;var o=a.closeAllLists,i=a.getCityInput(),c=a.$emit;r.addEventListener("click",(function(t){i.value=this.getElementsByClassName("itemInput")[0].value,i.dataset.country=this.getElementsByClassName("itemInput")[0].dataset.country,i.dataset.countrycode=this.getElementsByClassName("itemInput")[0].dataset.countrycode,i.dataset.cityeng=this.getElementsByClassName("itemInput")[0].dataset.cityeng,i.dataset.coord=this.getElementsByClassName("itemInput")[0].dataset.coord,c("getLocation",i.value,i.dataset.cityeng,i.dataset.country,i.dataset.countrycode,i.dataset.coord),o()})),r.style.cursor="pointer",e.appendChild(r),0==n&&(a.firstDivPosition=a.offset(r).top)},c=0;c<t.length;c++)i(c);e.clientHeight>this.maxDivHeight&&e.setAttribute("style","height:"+this.maxDivHeight+"px"),this.totalDivPosition=this.offset(e).top+e.clientHeight},offset:function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}},closeAllLists:function(t){var e=document.getElementsByClassName("autocomplete-items"),n=document.getElementById("itemsContainer");void 0!=n&&n.parentNode.removeChild(n);for(var r=0;r<e.length;r++)t!=e[r]&&t!=this.getCityInput()&&e[r].parentNode.removeChild(e[r])},GetCountryNameByCode:function(t){var e=this.countriesCodesFilter.filter((function(e){return e[0]==t}));return e[0]},keyDownInput:function(t){var e=document.getElementById(this.getCityInput().id+"autocomplete-list");e&&(e=e.getElementsByTagName("div")),40==t.keyCode?(this.currentFocus++,this.addActive(e,"down")):38==t.keyCode?(this.currentFocus--,this.addActive(e,"up")):13==t.keyCode&&(t.preventDefault(),this.currentFocus>-1&&e&&e[this.currentFocus].click())},addActive:function(t,e){if(!t)return!1;this.removeActive(t),this.currentFocus>=t.length&&(this.currentFocus=0),this.currentFocus<0&&(this.currentFocus=t.length-1),t[this.currentFocus].classList.add("autocomplete-active"),"down"==e?(this.offset(t[this.currentFocus]).top+t[this.currentFocus].clientHeight>=this.totalDivPosition&&t[this.currentFocus].scrollIntoView(!0),0==this.currentFocus&&t[this.currentFocus].scrollIntoView(!1)):(this.offset(t[this.currentFocus]).top<this.firstDivPosition&&t[this.currentFocus].scrollIntoView(!1),this.currentFocus==this.cityItemsCount-1&&t[this.currentFocus].scrollIntoView(!0))},removeActive:function(t){for(var e=0;e<t.length;e++)t[e].classList.remove("autocomplete-active")}},"offset",(function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+n}}))};n("1638");const q=w()(P,[["render",R]]);var H=q,V={class:"tab"},B=["onClick"];function W(t,e,n,a,o,i){return Object(r["q"])(),Object(r["e"])("div",V,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(t.forecastTypes,(function(t){return Object(r["q"])(),Object(r["e"])("button",{class:"tablinks",onClick:function(e){return i.changeForecast(e,t)}},Object(r["x"])(t),9,B)})),256))])}n("5319");var _={mixins:[g,y],methods:{changeForecast:function(t,e){var n,r;for(r=document.getElementsByClassName("tablinks"),n=0;n<r.length;n++)r[n].className=r[n].className.replace("active","");t.currentTarget.className+=" active",this.$emit("getForecastType",e)}}};n("941c");const $=w()(_,[["render",W]]);var z=$,G=n("a2c7"),J=n("5eee"),X=n("480c"),Y=n("4cdf"),Z=n("d0e9"),K=n("5831"),U=n("f403"),Q=n("3e6b"),tt=n("256f"),et=(n("5bc0"),{components:{CountriesCodes:F,CountriesTextBox:H,ForecastTypeTabs:z},mixins:[g,y],data:function(){return{countriesCodes:[],countriesCities:[],mapObject:void 0,locationCity:"",locationCityEng:"",locationCountry:"",locationCountryCode:"",locationCoord:"",weatherApi:"49698eb024149b3ee8492a86f8df67ec",forecastType:""}},created:function(){window.addEventListener("resize",this.resizeHandler)},destroyed:function(){window.removeEventListener("resize",this.resizeHandler)},mounted:function(){this.setShortWeatherArea(),this.mapObject=new J["a"]({target:this.$refs["map-root"],layers:[new X["a"]({source:new Z["a"]})],view:new G["a"]({zoom:0,center:[0,0],constrainResolution:!0})}),this.forecastType=this.forecastTypes.now},computed:{},methods:{searchLocationClick:function(){this.proceedForecastType(),this.setNormalWeatherArea()},getCountriesCodes:function(t,e){this.countriesCodes=t,this.countriesCities=e},getForecastType:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.forecastType=t,n.next=3,e.proceedForecastType();case 3:case"end":return n.stop()}}),n)})))()},getNowWeather:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.calculateCoordinates(),e.next=3,t.isFoundLocation(t.locationCityEng,t.locationCountryCode);case 3:n=e.sent,void 0!=n?(""==t.locationCoord&&t.reCenterMap(n["coord"]["lat"],n["coord"]["lon"]),t.$router.push({name:"Now",params:{currentCity:t.locationCity,currentCountry:t.locationCountry,forecastData:JSON.stringify(n)}})):""==t.locationCoord&&t.resetMap();case 5:case"end":return e.stop()}}),e)})))()},getTodayWeather:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.calculateCoordinates(),e.next=3,t.isFoundLocation(t.locationCityEng,t.locationCountryCode);case 3:n=e.sent,void 0!=n?(""==t.locationCoord&&t.reCenterMap(n["city"]["coord"]["lat"],n["city"]["coord"]["lon"]),r=t.dateWithoutTime,a=r(new Date),o=n.list.filter((function(t){var e=new Date(t["dt_txt"]),n=r(e);if(n.valueOf()==a.valueOf())return!0})),t.$router.push({name:"Today",params:{currentCity:t.locationCity,currentCountry:t.locationCountry,forecastData:JSON.stringify(o)}})):""==t.locationCoord&&t.resetMap();case 5:case"end":return e.stop()}}),e)})))()},getFiveDaysWeather:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.calculateCoordinates(),e.next=3,t.isFoundLocation(t.locationCityEng,t.locationCountryCode);case 3:n=e.sent,void 0!=n?(""==t.locationCoord&&t.reCenterMap(n["city"]["coord"]["lat"],n["city"]["coord"]["lon"]),r=n.list.filter((function(t){var e=new Date(t["dt_txt"]);if(15==e.getHours()||0==e.getHours())return!0})),t.$router.push({name:"FiveDays",params:{currentCity:t.locationCity,currentCountry:t.locationCountry,forecastData:JSON.stringify(r)}})):""==t.locationCoord&&t.resetMap();case 5:case"end":return e.stop()}}),e)})))()},proceedForecastType:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.forecastType,e.next=e.t0===t.forecastTypes.now?3:e.t0===t.forecastTypes.today?6:e.t0===t.forecastTypes.fiveDays?9:12;break;case 3:return e.next=5,t.getNowWeather();case 5:return e.abrupt("break",12);case 6:return e.next=8,t.getTodayWeather();case 8:return e.abrupt("break",12);case 9:return e.next=11,t.getFiveDaysWeather();case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})))()},calculateCoordinates:function(){if(""!=this.locationCoord){var t=this.locationCoord.split(" "),e=t[0].slice(0,-1),n=t[1].slice(0,-1),r=Math.floor(e/100),a=Math.floor(n/100),o=e/100%1,i=n/100%1,c=r+o/.6,s=a+i/.6;(t[0].includes("S")||t[0].includes("W"))&&(c*=-1),(t[1].includes("S")||t[1].includes("W"))&&(s*=-1),this.reCenterMap(c,s)}},reCenterMap:function(t,e){this.mapObject.getView().setZoom(12),this.mapObject.getView().setCenter(Object(tt["e"])([e,t])),this.removeMapMarker();var n=new K["a"];n.addFeatures([new Y["a"](new U["a"](Object(tt["e"])([e,t])))]);var r=new Q["a"]({source:n,name:"Marker",style:{"circle-radius":10,"circle-fill-color":"rgba(20, 100, 240, 0.3)","circle-stroke-color":"rgba(20, 100, 240, 0.7)"}});this.mapObject.addLayer(r)},removeMapMarker:function(){var t=this;this.mapObject.getLayers().getArray().filter((function(t){return"Marker"===t.get("name")})).forEach((function(e){return t.mapObject.removeLayer(e)}))},resetMap:function(){this.mapObject.getView().setZoom(0),this.mapObject.getView().setCenter([0,0])},setShortWeatherArea:function(){var t=this.getRootVarCSS("--shortAreaHeight");this.setRootVarCSS("--weatherAreaHeight",t)},setNormalWeatherArea:function(){var t=this.getRootVarCSS("--normalAreaHeight");this.setRootVarCSS("--weatherAreaHeight",t)},clearClick:function(){this.locationCity="",this.locationCountryCode="",this.locationCountry="",this.locationCoord="",this.removeMapMarker(),this.proceedForecastType(),this.setShortWeatherArea()},isFoundLocation:function(t,e){var n=this;return Object(m["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""==t||""==e){r.next=8;break}return a="",a=n.forecastType==n.forecastTypes.now?"https://api.openweathermap.org/data/2.5/weather?q="+t+","+e+"&appid="+n.weatherApi+"&lang=ru":"https://api.openweathermap.org/data/2.5/forecast?q="+t+","+e+"&appid="+n.weatherApi+"&lang=ru",r.next=5,fetch(a).then((function(t){return t.json()})).then((function(t){return"404"==t["cod"]||void 0==t["cod"]?void 0:t}));case 5:return r.abrupt("return",r.sent);case 8:return r.abrupt("return",void 0);case 9:case"end":return r.stop()}}),r)})))()},getLocation:function(t,e,n,r,a){var o=this;return Object(m["a"])(regeneratorRuntime.mark((function i(){var c,s,u,l,d,f,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(""==t){i.next=34;break}if(c=!1,s=!1,!(e.indexOf("=")>-1)){i.next=22;break}return u=t.split("="),l=e.split("="),d=l[0].split("(")[0].trim(),f=l[1].split("(")[0].trim(),i.next=10,o.isFoundLocation(d,r);case 10:if(c=i.sent,void 0==c){i.next=16;break}o.locationCity=u[0],o.locationCityEng=d,i.next=20;break;case 16:return i.next=18,o.isFoundLocation(f,r);case 18:s=i.sent,void 0!=s?(o.locationCity=u[1],o.locationCityEng=f):(o.locationCity=o.notFoundForecast,o.locationCityEng=o.notFoundForecast);case 20:i.next=28;break;case 22:return p=e.split("(")[0].trim(),i.next=25,o.isFoundLocation(p,r);case 25:c=i.sent,o.locationCity=void 0!=c?t:o.notFoundForecast,o.locationCityEng=void 0!=c?p:o.notFoundForecast;case 28:return o.locationCountry=n,o.locationCountryCode=r,o.locationCoord=a,o.setNormalWeatherArea(),i.next=34,o.proceedForecastType();case 34:case"end":return i.stop()}}),i)})))()},currentLocation:function(){return""==this.locationCity?" ":this.locationCity==this.notFoundForecast?this.notFoundForecast:this.locationCity+"/"+this.locationCountry},resizeHandler:function(t){}}});n("3b4a");const nt=w()(et,[["render",h]]);var rt=nt,at={class:"Title2"},ot={id:"weatherInfoNow",class:"weatherInfo"},it={id:"weatherDescription"},ct={id:"temperature"},st=["src"],ut={id:"description"},lt={id:"info"},dt={class:"flex-item now-item"},ft={class:"flex-item now-item"},pt={class:"flex-item now-item"},ht={class:"flex-item now-item"};function mt(t,e,n,a,o,i){return Object(r["q"])(),Object(r["e"])(r["a"],null,[Object(r["f"])("div",at,[Object(r["f"])("p",null,Object(r["x"])(t.forecastNow)+" "+Object(r["x"])(t.$route.params.currentCity),1)]),Object(r["f"])("div",ot,[Object(r["f"])("div",it,[Object(r["f"])("div",ct,[Object(r["f"])("img",{src:i.getIcon,width:"90",height:"90"},null,8,st),Object(r["f"])("p",null,Object(r["x"])(i.getTemperature)+"°C",1)]),Object(r["f"])("div",ut,[Object(r["f"])("p",null,Object(r["x"])(i.getDescription),1)])]),Object(r["f"])("div",lt,[Object(r["f"])("div",dt,[Object(r["g"])(Object(r["x"])(t.wind)+" ",1),Object(r["f"])("div",null,Object(r["x"])(i.getWind)+" "+Object(r["x"])(t.ms),1)]),Object(r["f"])("div",ft,[Object(r["g"])(Object(r["x"])(t.pressure)+" ",1),Object(r["f"])("div",null,Object(r["x"])(i.getPressure)+" "+Object(r["x"])(t.pressureValue),1)]),Object(r["f"])("div",pt,[Object(r["g"])(Object(r["x"])(t.humidity)+" ",1),Object(r["f"])("div",null,Object(r["x"])(i.getHumidity)+" % ",1)]),Object(r["f"])("div",ht,[Object(r["g"])(Object(r["x"])(t.cloudiness)+" ",1),Object(r["f"])("div",null,Object(r["x"])(i.getClouds)+" % ",1)])])])],64)}n("a4d3"),n("e01a");var bt={mixins:[g,y],props:["currentCity","currentCountry","forecastData"],beforeMount:function(){return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var t=this.$route.params.forecastData;return void 0==t||'""'==t?"":JSON.parse(t)}},computed:{getTemperature:function(){var t=""!=this.getData()?this.convertToCelsius(this.getData()["main"]["temp"]):this.getData();return t},getWind:function(){var t=""!=this.getData()?this.getData()["wind"]["speed"]:this.getData();return t},getPressure:function(){var t=""!=this.getData()?this.getData()["main"]["pressure"]:this.getData();return t},getClouds:function(){var t=""!=this.getData()?this.getData()["clouds"]["all"]:this.getData();return t},getHumidity:function(){var t=""!=this.getData()?this.getData()["main"]["humidity"]:this.getData();return t},getDescription:function(){var t=""!=this.getData()?this.getData()["weather"][0]["description"]:this.getData();return t},getIcon:function(){var t="",e="";return""!=this.getData()?(t=String(this.getData()["weather"][0]["icon"]),e="https://openweathermap.org/img/wn/"+t+"@2x.png"):e="",e}}};n("7533");const vt=w()(bt,[["render",mt]]);var gt=vt,yt={class:"Title2"},Ot={class:"weatherInfo"},jt={class:"weatherDescriptionToday"},Ct={class:"flex-item today-item"},wt=Object(r["f"])("sup",null," 00",-1),xt=["src"],Ft={class:"weatherHeader"},Dt={class:"weatherDescriptionToday",style:{"padding-bottom":"var(--weatherPadding)"}},It={class:"flex-item today-item"},kt={class:"weatherHeader"},Tt={class:"weatherDescriptionToday",style:{"padding-bottom":"var(--weatherPadding)"}},Nt={class:"flex-item today-item"};function St(t,e,n,a,o,i){return Object(r["q"])(),Object(r["e"])(r["a"],null,[Object(r["f"])("div",yt,[Object(r["f"])("p",null,Object(r["x"])(t.forecastToday)+" "+Object(r["x"])(t.$route.params.currentCity),1)]),Object(r["f"])("div",Ot,[Object(r["f"])("div",jt,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(i.getForecastData,(function(t){return Object(r["q"])(),Object(r["e"])("div",Ct,[Object(r["f"])("div",null,[Object(r["g"])(Object(r["x"])(t.time),1),wt]),Object(r["f"])("div",null,[Object(r["f"])("img",{src:t.icon,width:"60",height:"60"},null,8,xt)])])})),256))]),Object(r["f"])("div",Ft,Object(r["x"])(t.temperature),1),Object(r["f"])("div",Dt,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(i.getForecastData,(function(t){return Object(r["q"])(),Object(r["e"])("div",It,[Object(r["f"])("div",null,Object(r["x"])(t.temperature)+"°C ",1)])})),256))]),Object(r["f"])("div",kt,Object(r["x"])(t.windSpeed),1),Object(r["f"])("div",Tt,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(i.getForecastData,(function(e){return Object(r["q"])(),Object(r["e"])("div",Nt,[Object(r["f"])("div",null,Object(r["x"])(e.wind)+" "+Object(r["x"])(t.ms),1)])})),256))])])],64)}var Lt={mixins:[g,y],props:["currentCity","currentCountry","forecastData"],beforeMount:function(){return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var t=this.$route.params.forecastData;return void 0==t||'""'==t?"":JSON.parse(t)}},computed:{getForecastData:function(){var t=[{time:"",temperature:"",wind:"",icon:""}];if(t=[],""!=this.getData()){var e=this.convertToCelsius;this.getData().forEach((function(n,r,a){if(r<7){var o=e(n["main"]["temp"]),i=n["wind"]["speed"],c=String(n["weather"][0]["icon"]),s="https://openweathermap.org/img/wn/"+c+"@2x.png",u=new Date(n["dt_txt"]),l=u.getHours(),d={time:l,temperature:o,wind:i,icon:s};t.push(d)}}))}return t}}};n("2ae3");const Rt=w()(Lt,[["render",St]]);var Et=Rt,Mt={class:"Title2"},At={class:"weatherInfo"},Pt={class:"weatherInfoMain"},qt={class:"flex-item"},Ht={style:{"padding-top":"var(--weatherPadding)"}},Vt={class:"weatherInfoSub",style:{"padding-top":"var(--weatherPadding)"}},Bt={class:"flex-item"},Wt=Object(r["f"])("sup",null," 00",-1),_t={class:"flex-item"},$t={key:0},zt=Object(r["f"])("sup",null," 00",-1),Gt={class:"weatherInfoSub"},Jt={class:"flex-item"},Xt=["src"],Yt={class:"flex-item"},Zt={key:0},Kt=["src"],Ut={class:"weatherHeader",style:{"padding-bottom":"var(--weatherPadding)"}},Qt={class:"weatherInfoMain"},te={class:"flex-item"},ee={class:"weatherInfoSub"},ne={class:"flex-item"},re={class:"flex-item",style:{"padding-bottom":"var(--weatherPadding)"}},ae={key:0};function oe(t,e,n,a,o,i){return Object(r["q"])(),Object(r["e"])(r["a"],null,[Object(r["f"])("div",Mt,[Object(r["f"])("p",null,Object(r["x"])(t.forecastFiveDays)+" "+Object(r["x"])(t.$route.params.currentCity),1)]),Object(r["f"])("div",At,[Object(r["f"])("div",Pt,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(i.getForecastData,(function(t){return Object(r["q"])(),Object(r["e"])("div",qt,[Object(r["f"])("div",Ht,Object(r["x"])(t.day),1),Object(r["f"])("div",null,[Object(r["g"])(Object(r["x"])(t.date)+" "+Object(r["x"])(t.month),1),Object(r["f"])("div",Vt,[Object(r["f"])("div",Bt,[Object(r["g"])(Object(r["x"])(t.forecastItem.time),1),Wt]),Object(r["B"])(Object(r["f"])("div",_t,[void 0!=t.prevForecastItem?(Object(r["q"])(),Object(r["e"])("span",$t,[Object(r["g"])(Object(r["x"])(t.prevForecastItem.time),1),zt])):Object(r["d"])("",!0)],512),[[r["z"],void 0!=t.prevForecastItem]])]),Object(r["f"])("div",Gt,[Object(r["f"])("div",Jt,[Object(r["f"])("img",{src:t.forecastItem.icon,width:"40",height:"40"},null,8,Xt)]),Object(r["B"])(Object(r["f"])("div",Yt,[void 0!=t.prevForecastItem?(Object(r["q"])(),Object(r["e"])("span",Zt,[Object(r["f"])("img",{src:t.prevForecastItem.icon,width:"40",height:"40"},null,8,Kt)])):Object(r["d"])("",!0)],512),[[r["z"],void 0!=t.prevForecastItem]])])])])})),256))]),Object(r["f"])("div",Ut,Object(r["x"])(t.temperature),1),Object(r["f"])("div",Qt,[(Object(r["q"])(!0),Object(r["e"])(r["a"],null,Object(r["u"])(i.getForecastData,(function(t){return Object(r["q"])(),Object(r["e"])("div",te,[Object(r["f"])("div",ee,[Object(r["f"])("div",ne,Object(r["x"])(t.forecastItem.temperature)+"°C ",1),Object(r["B"])(Object(r["f"])("div",re,[void 0!=t.prevForecastItem?(Object(r["q"])(),Object(r["e"])("span",ae,Object(r["x"])(t.prevForecastItem.temperature)+"°C ",1)):Object(r["d"])("",!0)],512),[[r["z"],void 0!=t.prevForecastItem]])])])})),256))])])],64)}var ie={mixins:[g,y],props:["currentCity","currentCountry","forecastData"],beforeMount:function(){return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var t=this.$route.params.forecastData;return void 0==t||'""'==t?"":JSON.parse(t)},getItemForecastData:function(t){var e=new Date(t["dt_txt"]),n=this.convertToCelsius(t["main"]["temp"]),r=t["wind"]["speed"],a=String(t["weather"][0]["icon"]),o="https://openweathermap.org/img/wn/"+a+"@2x.png",i=e.getHours(),c={time:i,temperature:n,wind:r,icon:o};return c}},computed:{getForecastData:function(){var t=[];if(""!=this.getData()){var e=this.getItemForecastData,n=0,r=void 0;this.getData().forEach((function(a,o,i){var c=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],s=new Date(a["dt_txt"]),u=s.toLocaleString("ru-RU",{month:"short"}),l=c[s.getDay()];if(n==s.getDate()||0==n){var d={},f=e(a),p=void 0!=r?e(r):void 0;d=0==o||1==s.getDate()?{date:s.getDate(),month:u,day:l,forecastItem:f,prevForecastItem:p}:{date:s.getDate(),month:"",day:l,forecastItem:f,prevForecastItem:p},t.push(d)}n=s.getDate(),r=a}))}return t}}};n("b2ef");const ce=w()(ie,[["render",oe]]);var se=ce,ue=n("6c02"),le=[{name:"Now",path:"/ForecastNow",component:gt,props:!0},{name:"Today",path:"/ForecastToday",component:Et,props:!0},{name:"FiveDays",path:"/ForecastFiveDays",component:se,props:!0}],de=Object(ue["a"])({routes:le,history:Object(ue["b"])("/weather_forecast_vue/")}),fe=de,pe=Object(r["c"])(rt);pe.use(fe).mount("#app")},7533:function(t,e,n){"use strict";n("a7ee")},"7e9d":function(t,e,n){},"941c":function(t,e,n){"use strict";n("c5f4")},a114:function(t,e,n){},a66f:function(t,e,n){},a7ee:function(t,e,n){},b2ef:function(t,e,n){"use strict";n("a114")},c5f4:function(t,e,n){}});
//# sourceMappingURL=app.fd7fb762.js.map